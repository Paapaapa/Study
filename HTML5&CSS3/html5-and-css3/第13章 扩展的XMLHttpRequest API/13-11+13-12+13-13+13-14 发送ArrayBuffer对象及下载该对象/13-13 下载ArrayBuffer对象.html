<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>下载ArrayBuffer对象</title>
	</head>
	<script>
		function getarraybuffer()
		{
			var check=document.getElementsByName("check");
			var xhr=new XMLHttpRequest();
			xhr.open('GET','13-14 getdata.php',true);
			xhr.responseType='arraybuffer';
			xhr.onload=function(e)
			{
				if(this.status==200)
				{
					var bytearray=new Int8Array(this.response);
					for(var i=3;i<bytearray.length;i++)
					check[bytearray[i]].checked=true;
				}
			};
			xhr.send();
		}
	</script>
	<body>
		<input type="button" onclick="getarraybuffer()" value="下载">
		<input type="checkbox" name="check">1<br>
		<input type="checkbox" name="check">2<br>
		<input type="checkbox" name="check">3<br>
		<input type="checkbox" name="check">4<br>
		<input type="checkbox" name="check">5<br>
		<input type="checkbox" name="check">6<br>
	</body>
</html>
