<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>发送ArrayBuffer对象</title>
	</head>
	<script>
		function postarraybuffer()
		{
			var check=document.getElementsByName("check");
			var tmparray=new Array();
			for(var i=0;i<check.length;i++)
			{
				if(check[i].checked)
				tmparray.push[i];
			}
			var buffer=new ArrayBuffer(tmparray.length);//代表一个用于装载数据的缓存区
			var bytearray=new Int8Array(buffer);//用于往缓存区中填入数据
			for(var i=0;i<tmparray.length;i++)
			{
				bytearray[i]=tmparray[i];
			}
			var xhr=new XMLHttpRequest();
			xhr.open('POST','13-12 putdata.php',true);
			xhr.send(buffer);
		}
		
	</script>
	<body>
		<input type="button" onclick="postarraybuffer()" value="提交">
		<input type="checkbox" name="check">1<br>
		<input type="checkbox" name="check">2<br>
		<input type="checkbox" name="check">3<br>
		<input type="checkbox" name="check">4<br>
		<input type="checkbox" name="check">5<br>
		<input type="checkbox" name="check">6<br>
	</body>
</html>
