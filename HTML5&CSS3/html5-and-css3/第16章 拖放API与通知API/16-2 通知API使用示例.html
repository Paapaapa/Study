<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>通知API</title>
	</head>
	<script>
		var test;
		function createnotification()
		{
			if(window.Notification.permission=="granted")
			//granted表示用户已给予浏览器请求显示通知的权限；denied表示用户已拒绝浏览器请求显示通知的权限；default表示用户尚未被浏览器请求询问显示通知；
			{
				for(var i=0;i<10;i++)
				test=new Notification('简单文本通知',{icon:'http://taobao.90sheji.com/58pic/15/56/75/79v58PICVWZ.png',tag:'id',body:i+'通知内容'});//加了tag后只显示最后一条
				//new Notification(通知标题，对象（包含dir指定文字方向，lang标识使用语言，body指定显示内容，tag指定ID，icon指定通知显示时使用图标来源）)
				test.onshow=function()
				{
				    alert('通知被显示');	
				};
				test.onclose=function()
				{
					alert('通知被关闭');
				};
			}else{
				window.Notification.requestPermission();//向用户请求让浏览器显示通知的权限
			}
		}
		
		function close()
		{
			test.close();
		}
	</script>
	<body>
		<button onclick="createnotification()">显示通知</button>
		<button onclick="close()">关闭通知</button>
	</body>
</html>
